<!DOCTYPE html>
<html lang="de">
<head>   
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewpint" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Klimawandel? Nein Danke!</title>
</head>

<body>

    <header>
        <nav>
          <a href="index.html"> <img id="Logo" src="Logo.jpg" width=50px height=50px></a>
          <ul class="nav-links">
            <li>
              <form>
                <input type:"text" name="suche" placeholder="Suche">
              </form>
            </li>
          </ul>
          <ul class="nav-icons">
            <li><a href="https://www.instagram.com/liaisabellaa/">Instagram</a></li>
            <li><a href="https://www.facebook.com/lia.isabella.5/">Facebook</a></li>
            <li><a href="contact.html">Kontakt</a></li>
          </ul>
        </nav>

      </header>

    <tabellenerklärung>
<h1>Was siehst du hier?</h1>
<p>Hier zu sehen ist eine Tabelle mit den 20 Unternehmen mit dem höchsten Austoß von CO2-Emissionen. Diese 20 Unternehmen verursachen ein Drittel des weltweiten Emissionsaustoßes.
    Die Tabelle ist Unterteil nach Länder, dem Unternehmen selbst und die Emissionen angegeben in Megatonnen CO2-Äquivalent. Du kannst in dieser Tabelle nach einem speziellen Unternehmen, Land
    Emissionsaustoß filtern in dem du in das Textfeld "Filter:" dein Begriff eingibst. Du kannst die Tabelle auch sortieren. Hierfür drücke nur auf die Kategorie nach der du sortieren möchtest.
    Dann taucht ein Pfeil in die jeweilige Richtung auf. Wenn du zurück zur Startseite möchtest, drücke einfach auf unser Logo oben links.  </p>
    </tabellenerklärung>

<tabelle>
<style> 
    table#foobar-table thead { 
     position: sticky; 
    } 
    
    table#foobar-table thead { 
     inset-block-start: 0; 
    } 
    
    table#foobar-table, 
    table#foobar-table > thead > tr > th, 
    table#foobar-table > tbody > tr > td { 
     border: Solid 1px #888888; 
     padding: 5px; 
     color: #000000; 
    } 
    
    table#foobar-table > thead > tr { 
     background-color: rgba(196, 188, 181, 0.8); 
    } 
    
    table#foobar-table > tbody > tr:nth-child(even) { 
     background-color: #FFFFFF; 
    } 
    
    table#foobar-table > tbody > tr:nth-child(odd) { 
     background-color: #969694; 
    } 
    
    #foobar-table, 
    p#eingabe { 
     margin-left: 50px; 
    } 

.upArrow::after { 
 content: "\2191"; 
 color: #FFFFFF; 
 text-shadow: 1px 1px 0px #000000; 
 position: absolute; 
} 

.dnArrow::after { 
 content: "\2193"; 
 color: #FFFFFF; 
 text-shadow: 1px 1px 0px #000000; 
 position: absolute; 
}

</style> 
    
    <p id="eingabe"> 
     <label>Filter: <input type="search" class="filter-table" data-for="#foobar-table" autofocus="autofocus"></label> 
    </p> 
    
    <table id="foobar-table"> 
    <thead> 
    
     <tr> 
      <th data-type="string" title="Nach Land sortieren">Land</th> 
      <th data-type="string" title="Nach Unternehmen sortieren">Unternehmen</th>  
      <th data-type="number" title="Nach CO2-Emission sortieren">CO2-Emission</th> 

     </tr> 
    
    </thead> 
    <tbody> 
    
     <tr> 
      <td>Saudi Arabien</td> 
      <td>Saudi Aramco</td> 
      <td>59.262</td> 
     </tr> 
    
     <tr> 
      <td>USA</td> 
      <td>Chevron</td> 
      <td>43.345</td> 
     </tr> 
    
     <tr> 
      <td>Russland</td> 
      <td>Gazprom</td> 
      <td>43.230</td> 
     </tr> 

     <tr> 
        <td>USA</td> 
        <td>ExxonMobil</td> 
        <td>41.904</td> 
       </tr> 

       <tr> 
        <td>Iran</td> 
        <td>National Iranian Oil Co.</td> 
        <td>35.658</td> 
       </tr> 

       <tr> 
        <td>UK</td> 
        <td>BP</td> 
        <td>34.015</td> 
       </tr> 

       <tr> 
        <td>Niederlande</td> 
        <td>Royal Dutch Shell</td> 
        <td>31.948</td> 
       </tr> 

       <tr> 
        <td>Indien</td> 
        <td>Coal India</td> 
        <td>23.124</td> 
       </tr> 
    
       <tr> 
        <td>Mexiko</td> 
        <td>Pemex</td> 
        <td>22.645</td> 
       </tr> 

       <tr> 
        <td>Venezuela</td> 
        <td>PDVSA</td> 
        <td>15.745</td> 
       </tr> 

       <tr> 
        <td>China</td> 
        <td>Petrol China</td> 
        <td>15.632</td> 
       </tr> 

       <tr> 
        <td>USA</td> 
        <td>Peabody Energy</td> 
        <td>15.385</td> 
       </tr> 

       <tr> 
        <td>USA</td> 
        <td>ConocoPhillips</td> 
        <td>15.229</td> 
       </tr> 

       <tr> 
        <td>UAE</td> 
        <td>Abu Dhabi</td> 
        <td>13.840</td> 
       </tr> 

       <tr> 
        <td>Kuwait</td> 
        <td>Kuwait Petroleum Corp.</td> 
        <td>13.479</td> 
       </tr> 

       <tr> 
        <td>Irak</td> 
        <td>Iraq National Oil Co.</td> 
        <td>12.596</td> 
       </tr> 

       <tr> 
        <td>Frankreich</td> 
        <td>Total SA</td> 
        <td>12.352</td> 
       </tr> 

       <tr> 
        <td>Algerien</td> 
        <td>Sonatrach</td> 
        <td>12.302</td> 
       </tr> 

       <tr> 
        <td>Australien</td> 
        <td>BHP Billition</td> 
        <td>9.802</td> 
       </tr> 

       <tr> 
        <td>Brasilien</td> 
        <td>Petrobras</td> 
        <td>8.676</td> 
       </tr> 

    <script> 
    
    document.querySelectorAll(".filter-table").forEach(function (input) { 
      var table = document.querySelector(input.dataset.for); 
      var rows = table.querySelectorAll("tbody tr"); 
      input.addEventListener("input", () => { 
        rows.forEach(function (tr) { 
          if (input.value.length > 0) { 
            if (input.value[0] == input.value[0].toUpperCase()) { 
              tr.hidden = !tr.textContent.includes(input.value); 
            } else { 
              tr.hidden = !tr.textContent.toLowerCase().includes(input.value.toLowerCase()); 
            } 
          } else { 
            tr.hidden = !tr.textContent.includes(input.value); 
          } 
        }); 
      }); 
    }); 
    </script>

<script>     
    const table = document.getElementById("foobar-table"); 
    const headers = table.querySelectorAll("th"); 
    const tableBody = table.querySelector("tbody"); 
    const rows = tableBody.querySelectorAll("tr"); 
    const directions = Array.from(headers).map(function(header) { 
     return ""; 
    }); 
    
    const transform = function(index, content) { 
     const type = headers[index].getAttribute("data-type"); 
     switch (type) { 
         case "number": 
      return parseFloat(content); 
         case "string": 
         default: 
      return content; 
     } 
    }; 
    
    const sortColumn = function(index, headers) { 
    
     const cls = ["upArrow", "dnArrow"]; 
     headers.forEach((header) => { 
      document.getElementById(header.id).classList.remove(...cls); 
     }); 
    
      const direction = directions[index] || "asc"; 
      const multiplier = (direction === "asc") ? 1 : -1; 
      const cssSort = (direction === "asc") ? cls[0] : cls[1]; 
      document.getElementById(index).classList.add(cssSort); 
    
      const newRows = Array.from(rows); 
      newRows.sort((rowA, rowB) => { 
         const cellA = encodeURIComponent(rowA.querySelectorAll("td")[index].textContent.toLowerCase()); 
         const cellB = encodeURIComponent(rowB.querySelectorAll("td")[index].textContent.toLowerCase()); 
    
         const a = transform(index, cellA); 
         const b = transform(index, cellB); 
    
         switch (true) { 
          case a > b: return 1 * multiplier; 
          case a < b: return -1 * multiplier; 
          case a === b: return 0; 
           } 
       }); 
    
       [].forEach.call(rows, function(row) { 
           tableBody.removeChild(row); 
       }); 
    
       directions[index] = direction === "asc" ? "desc" : "asc"; 
       newRows.forEach(function(newRow) { 
           tableBody.appendChild(newRow); 
       }); 
     }; 
    
    [].forEach.call(headers, function(header, index) { 
       header.setAttribute("id", index); 
       header.addEventListener("click", () => { 
           sortColumn(index, headers); 
       }); 
    }); 
    </script>

</tabelle>


</body> 


  </html>